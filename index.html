<!DOCTYPE html>
<html lang="en">
  <head>
	<meta name="generator" content="Hugo 0.72.0" />
    <title>CC&#39;s Trip</title>
    <meta name="description" content="" />
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/assets/css/layouts/main.css" />
<link rel="stylesheet" href="/assets/css/style.css" />
<link rel="stylesheet" href="/assets/css/navigators/navbar.css" />


<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />


<link rel="icon" type="image/png" href="/assets/images/favicon.png" />


<link rel="stylesheet" href="/assets/css/style.css" />

    <link rel="stylesheet" href="/assets/css/sections/home.css" />
    <link rel="stylesheet" href="/assets/css/sections/about.css" />
    <link rel="stylesheet" href="/assets/css/sections/skills.css" />
    <link rel="stylesheet" href="/assets/css/sections/experiences.css" />
    <link rel="stylesheet" href="/assets/css/sections/projects.css" />
    <link rel="stylesheet" href="/assets/css/sections/recent-posts.css" />
    <link rel="stylesheet" href="/assets/css/sections/achievements.css" />

    
    
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', '\u003cyour google analytics id\u003e', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </head>
  <body data-spy="scroll" data-target="#top-navbar" data-offset="100">

    <nav class="navbar navbar-expand-xl top-navbar initial-navbar" id="top-navbar">
  <div class="container">
    
    
    
    
    <a class="navbar-brand" href="https://cctrip.github.io/">
      <img src="/assets/images/inverted-logo.png" id="logo">CC&#39;s Trip</a>
    <button
      class="navbar-toggler navbar-dark"
      id="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#top-nav-items"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="#home">Home</a>
        </li>
            
              <li class="nav-item">
                <a class="nav-link" href="#about">About</a>
              </li>
            
            
              <li class="nav-item">
                <a class="nav-link" href="#skills">Skills</a>
              </li>
            
            
              <li class="nav-item">
                <a class="nav-link" href="#experiences">Experiences</a>
              </li>
            
            
              <li class="nav-item">
                <a class="nav-link" href="#projects">Projects</a>
              </li>
            
            
              <li class="nav-item">
                <a class="nav-link" href="#recent-posts">Recent Posts</a>
              </li>
            
        
        
          
            
          
        
        
          <div class="dropdown-divider" id="top-navbar-divider"></div>
        
        
          <li class="nav-item">
            <a class="nav-link" id="blog-link" href="/posts">Posts</a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://cctrip.github.io/notes">Notes</a>
          </li>
        
      </ul>
    </div>
  </div>
  
  <img src="/assets/images/main-logo.png" class="d-none" id="main-logo">
  <img src="/assets/images/inverted-logo.png" class="d-none" id="inverted-logo">
</nav>
<div class="container-fluid home" id="home">
  <div
    class="background container-fluid"
    style="background-image: url('images/background.jpg');"
  ></div>
  <div class="container content text-center">
    <img src="images/cc.jpg"
      class="rounded-circle mx-auto d-block img-fluid"
    />
    <h1 class="greeting">Hi, I am
      
        CC
      
    </h1>
    <div class="typing-carousel">
      <span id="ityped" class="ityped"></span>
      <span class="ityped-cursor"></span>
    </div>
    <ul id="typing-carousel-data">
      
      <li>I am a DevOps Engineer</li>
      
      <li>I work with Go</li>
      
    </ul>
    
      
        <a href="#about"><i class="arrow bounce fa fa-chevron-down"></i></a>
      
    
  </div>
</div>

    
      
      
        
          <div class="container-fluid section-holder d-flex bg-white">
            <div class="container anchor p-lg-5 about-section" id="about">
  <div class="row pt-sm-2 pt-md-4 align-self-center">
    
    <div class="col-sm-6">
    <h3 class="p-1">CC</h3>
      
      <h5 class="p-1">
        运维开发工程师
        
          at <a href="https://www.jiayundata.com/">ClubFactory</a>
        
      </h5>
      
      <p class="p-1 text-justify">
        7年运维工作经验，3年运维开发经验，熟悉系统、网络、云服务、容器等
      </p>
      <div class="text-container ml-auto">
        <ul class="social-link d-flex">
          
          <li>
            
              <a href="mailto:zcc0388@gmail.com" target="/"><i class="fas fa-envelope"></i></a>
            
          </li>
          
          <li>
            
              <a href="https://github.com/cctrip" target="/"><i class="fab fa-github"></i></a>
            
          </li>
          
          <li>
            
              <a href="https://twitter.com/zcc0388/" target="/"><i class="fab fa-twitter"></i></a>
            
          </li>
          
        </ul>
      </div>
      
    </div>
    
    <div class="col-sm-6 pt-5 pl-md-4 pl-sm-3 pt-sm-0">
      <div class="row">
        
          <div class="col-6 col-lg-4 p-2">
  
  
  <div class="circular-progress yellow">
    <span class="circular-progress-left">
      <span
        class="circular-progress-bar circular-progress-percentage-90"
        
      ></span>
    </span>
    <span class="circular-progress-right">
      <span
      class="circular-progress-bar"
      
      ></span>
    </span>
    <div class="circular-progress-value">团队合作</div>
  </div>
</div>

        
          <div class="col-6 col-lg-4 p-2">
  
  
  <div class="circular-progress pink">
    <span class="circular-progress-left">
      <span
        class="circular-progress-bar circular-progress-percentage-90"
        
      ></span>
    </span>
    <span class="circular-progress-right">
      <span
      class="circular-progress-bar"
      
      ></span>
    </span>
    <div class="circular-progress-value">沟通</div>
  </div>
</div>

        
          <div class="col-6 col-lg-4 p-2">
  
  
  <div class="circular-progress green">
    <span class="circular-progress-left">
      <span
        class="circular-progress-bar circular-progress-percentage-90"
        
      ></span>
    </span>
    <span class="circular-progress-right">
      <span
      class="circular-progress-bar"
      
      ></span>
    </span>
    <div class="circular-progress-value">抗压</div>
  </div>
</div>

        
          <div class="col-6 col-lg-4 p-2">
  
  
  <div class="circular-progress sky">
    <span class="circular-progress-left">
      <span
        class="circular-progress-bar circular-progress-percentage-90"
        
      ></span>
    </span>
    <span class="circular-progress-right">
      <span
      class="circular-progress-bar"
      
      ></span>
    </span>
    <div class="circular-progress-value">快速学习</div>
  </div>
</div>

        
          <div class="col-6 col-lg-4 p-2">
  
  
  <div class="circular-progress orange">
    <span class="circular-progress-left">
      <span
        class="circular-progress-bar circular-progress-percentage-90"
        
      ></span>
    </span>
    <span class="circular-progress-right">
      <span
      class="circular-progress-bar"
      
      ></span>
    </span>
    <div class="circular-progress-value">解决问题</div>
  </div>
</div>

        
      </div>
    </div>
  </div>
</div>

          </div>
          
          
            
          
        
      
        
          <div class="container-fluid section-holder d-flex bg-dimmed">
            <div class="container-fluid anchor pb-5 skills-section" id="skills">
  
    <h1 class="text-center">Skills</h1>
  
  <div class="container d-flex-block">
    <div class="row" id="primary-skills">
      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/linux.png" alt="Linux" />
        
        <h5 class="card-title">Linux</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟悉CentOS和Ubuntu，熟悉系统知识，熟练使用各种命令和编写shell脚本.</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/network.png" alt="Network" />
        
        <h5 class="card-title">Network</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟悉网络通信，熟悉IP、TCP、HTTP、DNS、TLS等网络协议</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/cloud.png" alt="Cloud Computing" />
        
        <h5 class="card-title">Cloud Computing</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟悉阿里云、AWS等云平台</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/kubernetes.png" alt="Kubernetes" />
        
        <h5 class="card-title">Kubernetes</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟悉原理和操作</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/go.png" alt="Go Development" />
        
        <h5 class="card-title">Go Development</h5>
      </div>
      <div class="card-body">
        <p class="card-text">主要开发语言，用于编写运维自动化相关软件和平台.</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/docker.svg" alt="Docker" />
        
        <h5 class="card-title">Docker</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟悉原理和操作.</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/prometheus.png" alt="Prometheus" />
        
        <h5 class="card-title">Prometheus</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟练安装配置，熟悉PromQL，能编写exporter.</p>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-xs-12 col-sm-6 col-lg-4 pt-2">
  <a class="skill-card-link" href="#">
    <div class="card">
      <div class="card-head d-flex">
        
        <img class="card-img-xs" src="images/skills/ansible.png" alt="Ansible" />
        
        <h5 class="card-title">Ansible</h5>
      </div>
      <div class="card-body">
        <p class="card-text">熟悉Ansible，熟悉role和template编写.</p>
      </div>
    </div>
  </a>
</div>

      
    </div>
  </div>
</div>

          </div>
          
          
            
          
        
      
        
          <div class="container-fluid section-holder d-flex bg-white">
            <div class="container-fluid anchor pb-5 experiences-section" id="experiences">
  
    <h1 class="text-center">Experiences</h1>
  

  <div class="container timeline text-justify">
   
   
     
       <div class="row align-items-center  d-flex">
         <div class="col-1 col-lg-2 text-center vertical-line d-inline-flex justify-content-center">
  <div class="circle font-weight-bold">1</div>
</div>

         
  <div class="col-10 col-lg-8">
    <div class="experience-entry-heading">
        
        
        <h5>运维开发工程师</h5>
        <h6>ClubFactory.</h6>
        
        <p class="text-muted">March 2019 - Present,
            HangZhou China
        </p>
    </div>
    
    <p>海外电商</p>
    
    <h6 class="text-muted">Responsibilities:</h6>
    <ul class="justify-content-around">
    
        <li>管理阿里云、AWS云服务资源.</li>
    
        <li>开发构建运维自动化平台.</li>
    
        <li>开发构建运维监控系统.</li>
    
    </ul>
</div>



       </div>
     
     
       <div class="row horizontal-line">
  <div class="col-1 col-lg-2 timeline-side-div">
    <div class="corner"></div>
  </div>
  <div class="col-10 col-lg-8">
    <hr />
  </div>
  <div class="col-1 col-lg-2 timeline-side-div">
    <div class="corner"></div>
  </div>
</div>

     
   
     
       <div class="row align-items-center justify-content-end d-flex">
         
  <div class="col-10 col-lg-8">
    <div class="experience-entry-heading">
        
        
        <h5>技术支持工程师</h5>
        <h6>网宿科技.</h6>
        
        <p class="text-muted">May 2015 - December 2018,
            XiaMen China
        </p>
    </div>
    
    <p>CDN厂商</p>
    
    <h6 class="text-muted">Responsibilities:</h6>
    <ul class="justify-content-around">
    
        <li>待补充.</li>
    
    </ul>
</div>



         <div class="col-1 col-lg-2 text-center vertical-line d-inline-flex justify-content-center">
  <div class="circle font-weight-bold">2</div>
</div>

       </div>
     
     
       <div class="row horizontal-line">
  <div class="col-1 col-lg-2 timeline-side-div">
    <div class="corner"></div>
  </div>
  <div class="col-10 col-lg-8">
    <hr />
  </div>
  <div class="col-1 col-lg-2 timeline-side-div">
    <div class="corner"></div>
  </div>
</div>

     
   
     
       <div class="row align-items-center  d-flex">
         <div class="col-1 col-lg-2 text-center vertical-line d-inline-flex justify-content-center">
  <div class="circle font-weight-bold">3</div>
</div>

         
  <div class="col-10 col-lg-8">
    <div class="experience-entry-heading">
        
        
        <h5>运维工程师</h5>
        <h6>神州鹰.</h6>
        
        <p class="text-muted">September 2013 - April 2015,
            XiaMen China
        </p>
    </div>
    
    <p>视频监控</p>
    
    <h6 class="text-muted">Responsibilities:</h6>
    <ul class="justify-content-around">
    
        <li>待补充.</li>
    
    </ul>
</div>



       </div>
     
     
   
  </div>
</div>

          </div>
          
          
            
          
        
      
        
          <div class="container-fluid section-holder d-flex bg-dimmed">
            <div class="container-fluid anchor pb-5 projects-section" id="projects">
  
    <h1 class="text-center">Projects</h1>
  
  <div class="container ml-auto text-center">
    <div class="btn-group flex-wrap" role="group" id="project-filter-buttons">
      
      <button type="button" class="btn btn-dark" data-filter="all">
        All
      </button>
      
      <button type="button" class="btn btn-dark" data-filter="professional">
        Professional
      </button>
      
      <button type="button" class="btn btn-dark" data-filter="hobby">
        Hobby
      </button>
      
    </div>
  </div>
  <div class="container filtr-projects">
    <div class="row" id="project-card-holder">
      
        <div
  class="col-sm-12 col-md-6 col-lg-4 p-2 filtr-item"
  data-category='all, hobby,notes,professional'
>
  <div class="card mt-1">
    <div class="card">
      <a class="card-header" href="https://github.com/cctrip/notes">
        <div>
          <div class="d-flex">
            
            <img class="card-img-xs" src="images/projects/cc.jpeg" alt="notes" />
            
            <h5 class="card-title mb-0">notes</h5>
          </div>
          <div class="sub-title">
            <span>Owner</span>
            <span>Aug 2016 - Present</span>
          </div>
        </div>
      </a>
      <div class="card-body text-justify pt-1 pb-1">
        <p>notes is my personal note.</p>
        <span class="float-right">
          
          <a
            class="btn btn-outline-info btn-sm mb-2"
            href="https://github.com/cctrip/notes"
            target="#"
            >Details</a
          >
          
        </span>
      </div>
    </div>
  </div>
</div>

      
    </div>
  </div>
</div>

          </div>
          
          
            
          
        
      
        
          <div class="container-fluid section-holder d-flex bg-white">
            <div class="container-fluid anchor pb-5 recent-posts-section" id="recent-posts">
  
    <h1 class="text-center">Recent Posts</h1>
  
  <div class="container">
    <div class="row" id="recent-post-cards">
      
        <div class="col-lg-4 col-md-6 pt-2 post-card">
  <a href="/posts/devops/sre/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/images/posts/devops.jpg'
          alt="Card image cap"
        />
      </div>
      <div class="card-body">
        <h5 class="card-title">运维进阶之SRE</h5>
        <p class="card-text post-summary"> 困局 计算机软件系统离开人通常是无法自主运行的，那要如何去运维一个日趋复杂的大型分布式计算机系统呢？
Dev/Ops分离团队模型 雇佣系统管理员(sysadmin)运维复杂的计算机系统是行业内一直以来的普遍做法，系统管理员的工作主要在于应对系统中产生的各种需要人工干预的事件，以及来自业务部门的变更需求。但随着系统变得复杂，组件越来越多，流量不断上升，相关的事件和变更需求也会越来越多，就需要招聘更多的系统管理员。系统管理员的日常工作和研发工程师的相差甚远，通常归属于两个不同的部门，开发部(Dev)和运维部(Ops)。也就是Dev/Ops分离团队模型。
但是这个模型存在两个无法避免的问题。
 直接成本。随着系统复杂度的增加，部署规模的扩大，团队的大小基本与系统负载成线性相关，共同成长。 间接成本。即研发团队和运维团队之间的沟通成本。研发团队想要&quot;随时随地发布新功能，没有任何阻拦&rdquo;，运维团队想要”一旦一个东西在生产环境中正常工作了，就不要再进行任何改动“。本质来说，两个团队的目标是互相矛盾的。   解决之道 DevOps  DevOps（开发 Development 与运维 Operations 的组合词）是一种文化、一场运动或实践，强调在自动化软件交付流程及基础设施变更过程中，软件开发人员与其他信息技术（IT）专业人员彼此之间的协作与沟通。它旨在建立一种文化与环境，使构建、测试、软件发布得以快速、频繁以及更加稳定地进行。
 SRE  SRE可以理解为DevOps的一种实践，SRE基本是在进行由运维团队完成的工作，但是雇佣具有软件专业知识的工程师，通过创造软件系统的方式来维护系统运行并替代传统模型中的人工操作。本质上，SRE是在用软件工程的思维和方法论，通过设计、构建自动化工具来完成以前由系统管理员人工操作完成的任务。
 SRE方法论 1. 确保长期关注研发工作 SRE团队应将运维工作限制在50%以内，并将剩余时间投入到研发项目上
2. 在保障SLO的前提下最大化迭代速度 错误预算，任何产品都不是，也不应该做到100%可靠，部门建立起一个合理的可靠性目标，错误预算等于”1-可靠性目标“，通过错误预算来最大化新功能上线的速度，同时保障服务质量。
3. 监控系统 监控系统是SRE团队监控服务质量和可用性的一个主要手段。一个监控系统应该只有三类输出：
 紧急警报(alert)，意味着收到警报的用户需要立即执行某种操作 工单(ticket)，意味着接受工单的用户应该执行某种操作，但是并发立即执行。 日志(logging)，平时没有人需要关注日志信息，但是日志信息依然被收集起来以备调试和事后分析时使用  4. 应急事件处理 可靠性是MTTF(平均失败时间)和MTTR(平均恢复时间)的函数。评价一个团队将系统恢复到正常情况的最有效的指标，就是MTTR。
任何需要人工操作的事情都只会延长恢复时间。但有时候人工介入不可避免时，可以通过事先预案并且将最佳方法记录到”运维手册“上来降低MTTR。
5. 变更管理 变更管理的最佳实践是使用自动化来完成以下几个项目：
 采用渐进式发布机制 迅速而准确地检测到问题的发生 当问题发生时，安全迅速的回滚  6. 需要预测和容量规划 需要预测和容量规划是保障一个业务有足够的容量和冗余度去服务预测中的未来需要。
容量规划有几个必需步骤：
 必须有一个准确的自然增长需求预测模型，需求预测的时间应该超过资源获取的时间 规划中必须有准确的非自然增长的需求来源的统计 必须有周期性压力测试，以便准确地将系统原始资源信息与业务容量对应起来。  7. 效率与性能 高效地利用各种资源是任何赢利性服务都要关心的，一个服务的利用率指标通常依赖于这个服务的工作方式以及对容量的配置与部署上。如果能通过密切关注一个服务的容量配置策略，进而改进其资源利用率，可以有效地降低系统的总成本。
 成为SRE 技能要求  – TCP/IP网络模型 (OSI模型)
– Unix/Linux 系统</p>
      </div>
      <div class="card-footer">
        <span class="float-left">August 23, 2020</span>
        <a href="/posts/devops/sre/" class="float-right btn btn-outline-info btn-sm">Read</a>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-lg-4 col-md-6 pt-2 post-card">
  <a href="/posts/linux/nginx_match/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/images/posts/nginx.png'
          alt="Card image cap"
        />
      </div>
      <div class="card-body">
        <h5 class="card-title">Nginx匹配机制总结</h5>
        <p class="card-text post-summary"> 写在前面 Nginx是一个当前主流的HTTP服务器和反向代理服务器，很多做WEB相关的同学基本都会用到，很多云厂商的七层负载均衡器也基本都是基于nginx实现的，个人在工作过程也算是经常接触，这篇文章主要想总结一下nginx的匹配机制，主要分为两块，一块是server的匹配，一块是location的匹配。
 Server匹配机制 配置过nginx的都知道，在一个http模块中是可以配置多个server模块的，并且多个server模块是可以配置相同的监听端口的，下面是一个简单的server配置例子：
server { listen 80; server_name example.org www.example.org; ... } server { listen 80; server_name example.net www.example.net; ... } server { listen 80; server_name example.com www.example.com; ... } 当我们对nginx发起http请求后，nginx会拿到http请求中对应的 &quot;Host&quot; 头部跟server模块中的server_name进行匹配，根据匹配的server结果进入具体的server模块处理http请求。那么，它具体的匹配机制是怎样的呢？
首先，我们先简单了解下nginx内部server的相关结构，
其中listen和server_name在配置文件中的写法有：
 listen(可带default_server标识)  ip:port ip(监听80端口) port(监听所有地址)   server_name  www.example.com(完整域名) *.example.com(带通配符开头的域名) www.example.*(带通配符结尾的域名) ~^(www.)?(.+)$(正则写法的域名)    代码中的具体结构：
/************************************************************************************* 伪结构体示例 (port) --&gt; address(ip:port) --&gt; server(example.com) --&gt; server(example.net) 一个server模块的唯一标识是由address(listen配置)和server(server_name配置)组成 *************************************************************************************/ /* address 结构体，具有相同的ip:port */ struct ngx_http_addr_conf_s { /* default_server 存储的是listen配置里带default_server标识的server， 若没有就为顺序中的第一个server */ ngx_http_core_srv_conf_t *default_server; ngx_http_virtual_names_t *virtual_names; unsigned ssl:1; unsigned http2:1; unsigned proxy_protocol:1; }; /* virtual_name结构体，存储hash_combined和正则写法的server_name */ typedef struct { ngx_hash_combined_t names; ngx_uint_t nregex; ngx_http_server_name_t *regex; } ngx_http_virtual_names_t; /* hash_combined结构体，存储完成域名、通配符开头、通配符结尾的server_name */ typedef struct { ngx_hash_t hash; ngx_hash_wildcard_t *wc_head; ngx_hash_wildcard_t *wc_tail; } ngx_hash_combined_t; 通过结构体，我们来说明下server的匹配规则：</p>
      </div>
      <div class="card-footer">
        <span class="float-left">June 6, 2020</span>
        <a href="/posts/linux/nginx_match/" class="float-right btn btn-outline-info btn-sm">Read</a>
      </div>
    </div>
  </a>
</div>

      
        <div class="col-lg-4 col-md-6 pt-2 post-card">
  <a href="/posts/linux/linux_pam/" class="post-card-link">
    <div class="card">
      <div class="card-head">
        <img class="card-img-top" src='/images/posts/linux.jpg'
          alt="Card image cap"
        />
      </div>
      <div class="card-body">
        <h5 class="card-title">Linux pam模块</h5>
        <p class="card-text post-summary"> 概念 Linux-PAM（Pluggable Authentication Modules for Linux）是一套共享库,使本地系统管理员可以随意选择程序的认证方式。换句话说，不用(重新编写)重新编译一个包含PAM功能的应用程序，就可以改变它使用的认证机制，这种方式下，就算升级本地认证机制,也不用修改程序。
 工作机制 当应用程序希望与PAM交互以处理事件时，他们必须包括libpam，该libpam允许通过库提供的API进行通信。 当PAM看到必须处理的新事件时，它将查看/etc/pam.d中的相关配置文件，并确定在某些阶段必须使用哪些模块。
 /etc/pam.d配置文件介绍 配置文件语法
type control module-path module-arguments 配置文件分为四列
 第一列代表模块类型 第二列代表控制标记 第三列代表模块路径 第四列代表模块参数  类型 类型 是规则对应的管理组。它用于指定后续模块要与哪个管理组关联。
目前有四种类型:
  account
此模块类型执行基于非身份验证的帐户管理。 通常用于限制/允许对服务的访问，例如是否允许登录,是否达到最大用户数,或是root用户是否允许在这个终端登录等。
  auth
此模块为用户验证提供两方面服务。让应用程序提示用户输入密码或者其他标记，确认用户合法性；通过他的凭证许可权限，设定组成员关系或者其他优先权。
  password
此模块用于控制用户更改密码的全过程。
  session
此模块处理为用户提供服务之前/后需要做的些事情。包括：开启/关闭交换数据的信息，监视目录等，设置用户会话环境等。也就是说这是在系统正式进行服务提供之前的最后一道关口。
  如果在类型前加一个短横线 -，就表示如果找不到这个模块，导致无法被加载时，这一事件不会被记录在日志中。这个功能适用于那些认证时非必需的、安装时可能没被安装进系统的模块。
控制标记 流程栈（stack）
它是认证时执行步骤和规则的堆叠。在某个服务的配置文件中，它体现在了配置文件中的自上而下的执行顺序中。栈是可以被引用的，即在一个栈（或者流程）中嵌入另一个栈。
控制标记 规定如何处理PAM模块鉴别认证的结果，简而言之就是鉴别认证成功或者失败之后会发生什么事，如何进行控制。一般有两种形式，一种是比较常见的“关键字”方式，另一种则是用方括号（[]）包含的“value =action”方式。
关键字方式:   required
如果本条目没有被满足，那最终本次认证一定失败，但认证过程不因此打断。整个栈运行完毕之后才会返回“认证失败”信号。
  requisite
如果本条目没有被满足，那本次认证一定失败，而且整个栈立即中止并返回错误信号。
  sufficient
  如果本条目的条件被满足，且本条目之前没有任何required条目失败，则立即返回“认证成功”信号；如果对本条目的验证失败，不对结果造成影响。</p>
      </div>
      <div class="card-footer">
        <span class="float-left">April 5, 2020</span>
        <a href="/posts/linux/linux_pam/" class="float-right btn btn-outline-info btn-sm">Read</a>
      </div>
    </div>
  </a>
</div>

      
    </div>
  </div>
</div>

          </div>
          
          
            
          
        
      
    

    <footer class="container-fluid text-center align-content-center footer pb-2">
  <div class="container pt-5">
    <div class="row text-left">
      <div class="col-md-4 col-sm-12">
        <h5>Navigation</h5>
        
        <ul>
            
            <li class="nav-item">
              <a class="smooth-scroll" href="/#about">About</a>
            </li>
            
            
            <li class="nav-item">
              <a class="smooth-scroll" href="/#skills">Skills</a>
            </li>
            
            
            <li class="nav-item">
              <a class="smooth-scroll" href="/#experiences">Experiences</a>
            </li>
            
            
            <li class="nav-item">
              <a class="smooth-scroll" href="/#projects">Projects</a>
            </li>
            
            
            <li class="nav-item">
              <a class="smooth-scroll" href="/#recent-posts">Recent Posts</a>
            </li>
            
        </ul>
        

      </div>
      <div class="col-md-4 col-sm-12">
        <h5>Contact Me</h5>
        <ul>
          
          <li><span>Email: </span> <span>zcc0388@gmail.com</span></li>
          
          <li><span>Wechat: </span> <span>zcc0388</span></li>
          
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  <div class="container">
    <div class="row text-left">
      <div class="col-md-4">
        <a id="theme" href="https://github.com/hossainemruz/toha" target="#">
          <img src="/assets/images/inverted-logo.png">
          Toha
        </a>
      </div>
      <div class="col-md-4 text-center">© 2020 Copyright.</div>
      <div class="col-md-4 text-right">
        <a id="hugo" href="https://gohugo.io/">Powered by Hugo
        <img
          src="/assets/images/hugo-logo-wide.svg"
          alt="Hugo Logo"
          height="18"
        />
        </a>
      </div>
    </div>
  </div>
</footer>

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<script src="/assets/js/navbar.js"></script>
<script src="/assets/js/main.js"></script>


    
    <script src="/assets/js/itype.min.js"></script>
    <script src="/assets/js/github-button.js"></script>
    <script src="/assets/js/home.js"></script>
    <script src="/assets/js/jquery.filterizr.min.js"></script>
  </body>
</html>
